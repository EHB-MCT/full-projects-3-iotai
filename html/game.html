<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>EvoMission</title>
        <link rel="icon" href="../assets/evologo.png" type="images/x-icon" />
        <link rel="stylesheet" href="../css/game.css" />
        <link rel="stylesheet" href="/style.css" />
        <link rel="stylesheet" href="../css/animations.css" />
        <link rel="stylesheet" href="../css/styleguide.css" />

        <script src="../js/info-btn.js" defer></script>
    </head>
    <body>
        <main>
            <div class="aside">
                <div class="call-for-meeting">
                    <div class="wrapper">
                        <button class="meeting-button glow_red red">
                            <p class="subtitles">Call for meeting</p>
                            <img class="warning_icon" src="../assets/icons/warning-icon.png" alt="meeting room" />
                        </button>
                    </div>
                </div>
            </div>
            <div>
                <div class="progress-bar-wrapper">
                    <div class="progress-bar">
                        <div id="progress">
                            <p class="task-number subtitles">30</p>
                        </div>
                    </div>
                    <p class="subtitles">Tap a number to start a task</p>
                </div>
                <div class="map">
                    <div class="missions">
                        <div id="mission1">
                            <button class="popupBtn">
                                <img src="../assets/icons/pin_1.png" alt="mission 1" />
                            </button>
                        </div>
                        <div id="mission2">
                            <button class="popupBtn">
                                <img src="../assets/icons/pin_2.png" alt="mission 2" />
                            </button>
                        </div>
                        <div id="mission3">
                            <button class="popupBtn">
                                <img src="../assets/icons/pin_3.png" alt="mission 3" />
                            </button>
                        </div>
                    </div>
                    <div class="room">
                        <img src="../assets/MNW_plattegrond3.png" alt="gallery of humankind" width="85%" />
                        <div class="magnification-glass">
                            <!-- Image is for zooming in but should be replaced by zooming out -->
                            <img src="../assets/icons/magnification-glass.png" alt="zoom out" />
                        </div>
                    </div>
                </div>

            <div id="popup" style="display: none">
                <div class="popup-content">
                    <img class="close" src="/assets/icons/cross-icon.png" height="30px" />
                    <p class="task-text">TASK TASK TASK</p>
                    <button class="popup-button glow_blue green">Scan QR code</button>
                </div>
            </div>

            <div id="meetingPopup" style="display: none">
                <div class="popup-content">
                    <img class="closeMeeting" src="/assets/icons/cross-icon.png" height="30px" />
                    <p class="task-text">EMERGENCY</p>
                    <button class="popup-button glow_blue green">Scan QR code</button>
                </div>
            </div>

            <!--script for popup-->
            <script>
                //Tasks
                const popupBtns = document.querySelectorAll('.popupBtn');
                const popup = document.getElementById('popup');
                const close = document.getElementsByClassName('close')[0];

                popupBtns.forEach(function (btn) {
                btn.onclick = function () {
                    popup.style.display = 'block';
                };
                });

                close.onclick = function () {
                popup.style.display = 'none';
                };

                //Meeting button

                const meetingBtn = document.querySelectorAll('.meeting-button');
                const meetingPopup = document.getElementById('meetingPopup');
                
                meetingBtn.onclick = function () {
                    console.log("clicked on meeting button");
                    meetingPopup.style.display = 'block';
                };

            </script>
        </main>
    </body>
</html>
